{
  "title": "Webhooks schema definition",
  "type": "object",
  "properties": {
    "timestamp": {
      "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
    },
    "workspaceId": {
      "$ref": "#/definitions/id"
    },
    "payload": {
      "anyOf": [
        {
          "$ref": "#/definitions/customerChangedPayload"
        },
        {
          "$ref": "#/definitions/customerGroupMembershipsChangedPayload"
        },
        {
          "$ref": "#/definitions/timelineEntryChangedPayload"
        },
        {
          "$ref": "#/definitions/customerGroupChangedPayload"
        },
        {
          "$ref": "#/definitions/threadCreatedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadStatusTransitionedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadAssignmentTransitionedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadEmailReceivedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadEmailSentPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadLabelsChangedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadPriorityChangedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/threadChatSentPublicEventPayload"
        },
        {
          "$ref": "#/definitions/customerCreatedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/customerUpdatedPublicEventPayload"
        },
        {
          "$ref": "#/definitions/customerDeletedPublicEventPayload"
        }
      ]
    },
    "id": {
      "$ref": "#/definitions/id"
    },
    "type": {
      "type": "string",
      "enum": [
        "thread.thread_created",
        "thread.thread_status_transitioned",
        "thread.thread_assignment_transitioned",
        "thread.email_received",
        "thread.email_sent",
        "thread.chat_sent",
        "thread.note_created",
        "thread.thread_labels_changed",
        "thread.thread_priority_changed",
        "customer.customer_created",
        "customer.customer_updated",
        "customer.customer_deleted",
        "customer.customer_changed",
        "customer.customer_group_changed",
        "customer.customer_group_memberships_changed",
        "timeline.timeline_entry_changed"
      ]
    },
    "webhookMetadata": {
      "type": "object",
      "properties": {
        "webhookTargetId": {
          "$ref": "#/definitions/id"
        },
        "webhookDeliveryAttemptId": {
          "$ref": "#/definitions/id"
        },
        "webhookDeliveryAttemptNumber": {
          "type": "integer",
          "exclusiveMinimum": 0
        },
        "webhookDeliveryAttemptTimestamp": {
          "$ref": "#/definitions/datetime"
        }
      },
      "required": [
        "webhookTargetId",
        "webhookDeliveryAttemptId",
        "webhookDeliveryAttemptNumber",
        "webhookDeliveryAttemptTimestamp"
      ],
      "additionalProperties": false
    }
  },
  "required": [
    "timestamp",
    "workspaceId",
    "payload",
    "id",
    "type",
    "webhookMetadata"
  ],
  "additionalProperties": false,
  "description": "Webhook request",
  "definitions": {
    "id": {
      "type": "string",
      "minLength": 1,
      "pattern": "^[a-zA-Z]+_[0123456789ABCDEFGHJKMNPQRSTVWXYZ]{26}$",
      "maxLength": 50
    },
    "emailAddress": {
      "type": "string",
      "pattern": "^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|([^-]([a-zA-Z0-9-]*\\.)+[a-zA-Z]{2,}))$"
    },
    "datetime": {
      "type": "string",
      "format": "date-time"
    },
    "userActor": {
      "type": "object",
      "properties": {
        "actorType": {
          "type": "string",
          "const": "user"
        },
        "userId": {
          "$ref": "#/definitions/id"
        }
      },
      "required": [
        "actorType",
        "userId"
      ],
      "additionalProperties": false
    },
    "customerActor": {
      "type": "object",
      "properties": {
        "actorType": {
          "type": "string",
          "const": "customer"
        },
        "customerId": {
          "$ref": "#/definitions/id"
        }
      },
      "required": [
        "actorType",
        "customerId"
      ],
      "additionalProperties": false
    },
    "systemActor": {
      "type": "object",
      "properties": {
        "actorType": {
          "type": "string",
          "const": "system"
        },
        "system": {
          "type": "string"
        }
      },
      "required": [
        "actorType",
        "system"
      ],
      "additionalProperties": false
    },
    "machineUserActor": {
      "type": "object",
      "properties": {
        "actorType": {
          "type": "string",
          "const": "machineUser"
        },
        "machineUserId": {
          "$ref": "#/definitions/id"
        }
      },
      "required": [
        "actorType",
        "machineUserId"
      ],
      "additionalProperties": false
    },
    "actor": {
      "anyOf": [
        {
          "$ref": "#/definitions/userActor"
        },
        {
          "$ref": "#/definitions/machineUserActor"
        },
        {
          "$ref": "#/definitions/systemActor"
        },
        {
          "$ref": "#/definitions/customerActor"
        }
      ]
    },
    "internalActor": {
      "anyOf": [
        {
          "$ref": "#/definitions/userActor"
        },
        {
          "$ref": "#/definitions/machineUserActor"
        },
        {
          "$ref": "#/definitions/systemActor"
        }
      ]
    },
    "user": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "email": {
          "$ref": "#/definitions/emailAddress"
        },
        "fullName": {
          "type": "string"
        },
        "publicName": {
          "type": "string"
        },
        "status": {
          "type": "string",
          "enum": [
            "ONLINE",
            "OFFLINE",
            "BREAK"
          ]
        },
        "statusChangedAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/internalActor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/internalActor"
        },
        "deletedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "deletedBy": {
          "anyOf": [
            {
              "$ref": "#/definitions/internalActor"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "id",
        "email",
        "fullName",
        "publicName",
        "status",
        "statusChangedAt",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "deletedAt",
        "deletedBy"
      ],
      "additionalProperties": false
    },
    "machineUser": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "fullName": {
          "type": "string"
        },
        "publicName": {
          "type": "string"
        },
        "description": {
          "type": [
            "string",
            "null"
          ]
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/internalActor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/internalActor"
        },
        "deletedAt": {
          "$ref": "#/definitions/user/properties/deletedAt"
        },
        "deletedBy": {
          "$ref": "#/definitions/user/properties/deletedBy"
        }
      },
      "required": [
        "id",
        "fullName",
        "publicName",
        "description",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "deletedAt",
        "deletedBy"
      ],
      "additionalProperties": false
    },
    "customer": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "email": {
          "type": "object",
          "properties": {
            "email": {
              "$ref": "#/definitions/emailAddress"
            },
            "isVerified": {
              "type": "boolean"
            },
            "verifiedAt": {
              "anyOf": [
                {
                  "$ref": "#/definitions/datetime"
                },
                {
                  "type": "null"
                }
              ]
            }
          },
          "required": [
            "email",
            "isVerified",
            "verifiedAt"
          ],
          "additionalProperties": false
        },
        "externalId": {
          "type": [
            "string",
            "null"
          ]
        },
        "fullName": {
          "type": "string"
        },
        "shortName": {
          "type": [
            "string",
            "null"
          ]
        },
        "assignedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "assignedToUser": {
          "anyOf": [
            {
              "$ref": "#/definitions/user"
            },
            {
              "type": "null"
            }
          ]
        },
        "markedAsSpamAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "markedAsSpamBy": {
          "anyOf": [
            {
              "$ref": "#/definitions/internalActor"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "customerGroupMemberships": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/customerGroupMembership"
          }
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "id",
        "email",
        "externalId",
        "fullName",
        "shortName",
        "assignedAt",
        "assignedToUser",
        "customerGroupMemberships",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "customerGroup": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "workspaceId": {
          "$ref": "#/definitions/id"
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500
        },
        "key": {
          "type": "string",
          "minLength": 1,
          "maxLength": 50
        },
        "color": {
          "type": "string",
          "pattern": "^#([a-f0-9]{3,4}|[a-f0-9]{4}(?:[a-f0-9]{2}){1,2})\\b$"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/internalActor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/internalActor"
        }
      },
      "required": [
        "id",
        "workspaceId",
        "name",
        "key",
        "color",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "customerGroupMembership": {
      "type": "object",
      "properties": {
        "customerId": {
          "$ref": "#/definitions/id"
        },
        "customerGroupId": {
          "$ref": "#/definitions/id"
        },
        "workspaceId": {
          "$ref": "#/definitions/id"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/internalActor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/internalActor"
        },
        "customerGroup": {
          "$ref": "#/definitions/customerGroup"
        }
      },
      "required": [
        "customerId",
        "customerGroupId",
        "workspaceId",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "customerGroup"
      ],
      "additionalProperties": false
    },
    "attachment": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "fileName": {
          "type": "string",
          "minLength": 1
        },
        "fileSizeBytes": {
          "type": "integer",
          "minimum": 0
        },
        "fileMimeType": {
          "type": "string",
          "minLength": 1
        },
        "fileExtension": {
          "type": [
            "string",
            "null"
          ]
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "id",
        "fileName",
        "fileSizeBytes",
        "fileMimeType",
        "fileExtension",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "emailActor": {
      "anyOf": [
        {
          "$ref": "#/definitions/userActor"
        },
        {
          "$ref": "#/definitions/customerActor"
        },
        {
          "type": "object",
          "properties": {
            "actorType": {
              "type": "string",
              "const": "supportEmailAddress"
            },
            "supportEmailAddress": {
              "type": "string"
            }
          },
          "required": [
            "actorType",
            "supportEmailAddress"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "actorType": {
              "type": "string",
              "const": "deletedCustomer"
            },
            "customerId": {
              "$ref": "#/definitions/id"
            }
          },
          "required": [
            "actorType",
            "customerId"
          ],
          "additionalProperties": false
        }
      ]
    },
    "email": {
      "type": "object",
      "properties": {
        "timelineEntryId": {
          "$ref": "#/definitions/id"
        },
        "id": {
          "$ref": "#/definitions/id"
        },
        "to": {
          "$ref": "#/definitions/emailParticipant"
        },
        "from": {
          "$ref": "#/definitions/emailParticipant"
        },
        "replyTo": {
          "type": [
            "string",
            "null"
          ]
        },
        "additionalRecipients": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/emailParticipant"
          }
        },
        "hiddenRecipients": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/emailParticipant"
          }
        },
        "subject": {
          "type": [
            "string",
            "null"
          ]
        },
        "textContent": {
          "type": [
            "string",
            "null"
          ]
        },
        "markdownContent": {
          "type": [
            "string",
            "null"
          ]
        },
        "authenticity": {
          "type": "string",
          "enum": [
            "PASS",
            "FAIL",
            "UNKNOWN"
          ]
        },
        "sentAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "receivedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/attachment"
          }
        },
        "inReplyToEmailId": {
          "type": [
            "string",
            "null"
          ]
        },
        "isStartOfThread": {
          "type": "boolean"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "timelineEntryId",
        "id",
        "to",
        "from",
        "replyTo",
        "additionalRecipients",
        "hiddenRecipients",
        "subject",
        "textContent",
        "markdownContent",
        "authenticity",
        "sentAt",
        "receivedAt",
        "attachments",
        "inReplyToEmailId",
        "isStartOfThread",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "chat": {
      "type": "object",
      "properties": {
        "timelineEntryId": {
          "$ref": "#/definitions/id"
        },
        "id": {
          "$ref": "#/definitions/id"
        },
        "customerReadAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "text": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 5000
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/attachment"
          }
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "timelineEntryId",
        "id",
        "customerReadAt",
        "attachments",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "customEntryAttachment": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "fileName": {
          "$ref": "#/definitions/attachment/properties/fileName"
        },
        "fileSizeBytes": {
          "$ref": "#/definitions/attachment/properties/fileSizeBytes"
        },
        "fileMimeType": {
          "$ref": "#/definitions/attachment/properties/fileMimeType"
        },
        "fileExtension": {
          "$ref": "#/definitions/attachment/properties/fileExtension"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        },
        "type": {
          "type": "string",
          "const": "CUSTOM_TIMELINE_ENTRY"
        }
      },
      "required": [
        "id",
        "fileName",
        "fileSizeBytes",
        "fileMimeType",
        "fileExtension",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "type"
      ],
      "additionalProperties": false
    },
    "chatEntryAttachment": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "fileName": {
          "$ref": "#/definitions/attachment/properties/fileName"
        },
        "fileSizeBytes": {
          "$ref": "#/definitions/attachment/properties/fileSizeBytes"
        },
        "fileMimeType": {
          "$ref": "#/definitions/attachment/properties/fileMimeType"
        },
        "fileExtension": {
          "$ref": "#/definitions/attachment/properties/fileExtension"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        },
        "type": {
          "type": "string",
          "const": "CHAT"
        }
      },
      "required": [
        "id",
        "fileName",
        "fileSizeBytes",
        "fileMimeType",
        "fileExtension",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "type"
      ],
      "additionalProperties": false
    },
    "emailEntryAttachment": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "fileName": {
          "$ref": "#/definitions/attachment/properties/fileName"
        },
        "fileSizeBytes": {
          "$ref": "#/definitions/attachment/properties/fileSizeBytes"
        },
        "fileMimeType": {
          "$ref": "#/definitions/attachment/properties/fileMimeType"
        },
        "fileExtension": {
          "$ref": "#/definitions/attachment/properties/fileExtension"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        },
        "type": {
          "type": "string",
          "const": "EMAIL"
        },
        "emailContentId": {
          "type": "string"
        }
      },
      "required": [
        "id",
        "fileName",
        "fileSizeBytes",
        "fileMimeType",
        "fileExtension",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy",
        "type",
        "emailContentId"
      ],
      "additionalProperties": false
    },
    "componentTextSize": {
      "type": "string",
      "enum": [
        "S",
        "M",
        "L"
      ]
    },
    "componentTextColor": {
      "type": "string",
      "enum": [
        "NORMAL",
        "MUTED",
        "SUCCESS",
        "WARNING",
        "ERROR"
      ]
    },
    "componentPlainTextSize": {
      "type": "string",
      "enum": [
        "S",
        "M",
        "L"
      ]
    },
    "componentPlainTextColor": {
      "type": "string",
      "enum": [
        "NORMAL",
        "MUTED",
        "SUCCESS",
        "WARNING",
        "ERROR"
      ]
    },
    "componentSpacerSize": {
      "type": "string",
      "enum": [
        "XS",
        "S",
        "M",
        "L",
        "XL"
      ]
    },
    "componentDividerSpacingSize": {
      "type": "string",
      "enum": [
        "XS",
        "S",
        "M",
        "L",
        "XL"
      ]
    },
    "componentBadgeColor": {
      "type": "string",
      "enum": [
        "GREY",
        "GREEN",
        "YELLOW",
        "RED",
        "BLUE"
      ]
    },
    "componentText": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "text"
        },
        "textSize": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentTextSize"
            },
            {
              "type": "null"
            }
          ]
        },
        "textColor": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentTextColor"
            },
            {
              "type": "null"
            }
          ]
        },
        "text": {
          "type": "string",
          "minLength": 1,
          "maxLength": 5000
        }
      },
      "required": [
        "type",
        "textSize",
        "textColor",
        "text"
      ],
      "additionalProperties": false
    },
    "componentPlainText": {
      "type": "object",
      "properties": {
        "plainTextSize": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentPlainTextSize"
            },
            {
              "type": "null"
            }
          ]
        },
        "plainTextColor": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentPlainTextColor"
            },
            {
              "type": "null"
            }
          ]
        },
        "plainText": {
          "type": "string",
          "minLength": 1,
          "maxLength": 5000
        },
        "type": {
          "type": "string",
          "const": "plainText"
        }
      },
      "required": [
        "plainTextSize",
        "plainTextColor",
        "plainText",
        "type"
      ],
      "additionalProperties": false
    },
    "componentSpacer": {
      "type": "object",
      "properties": {
        "spacerSize": {
          "$ref": "#/definitions/componentSpacerSize"
        },
        "type": {
          "type": "string",
          "const": "spacer"
        }
      },
      "required": [
        "spacerSize",
        "type"
      ],
      "additionalProperties": false
    },
    "componentDivider": {
      "type": "object",
      "properties": {
        "dividerSpacingSize": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentDividerSpacingSize"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "type": "string",
          "const": "divider"
        }
      },
      "required": [
        "dividerSpacingSize",
        "type"
      ],
      "additionalProperties": false
    },
    "componentLinkButton": {
      "type": "object",
      "properties": {
        "linkButtonUrl": {
          "type": "string",
          "format": "uri"
        },
        "linkButtonLabel": {
          "type": "string",
          "maxLength": 500
        },
        "type": {
          "type": "string",
          "const": "linkButton"
        }
      },
      "required": [
        "linkButtonUrl",
        "linkButtonLabel",
        "type"
      ],
      "additionalProperties": false
    },
    "componentBadge": {
      "type": "object",
      "properties": {
        "badgeLabel": {
          "type": "string",
          "maxLength": 500
        },
        "badgeColor": {
          "anyOf": [
            {
              "$ref": "#/definitions/componentBadgeColor"
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "type": "string",
          "const": "badge"
        }
      },
      "required": [
        "badgeLabel",
        "badgeColor",
        "type"
      ],
      "additionalProperties": false
    },
    "componentCopyButton": {
      "type": "object",
      "properties": {
        "copyButtonValue": {
          "type": "string",
          "maxLength": 1000
        },
        "copyButtonTooltipLabel": {
          "anyOf": [
            {
              "type": "string",
              "maxLength": 500
            },
            {
              "type": "null"
            }
          ]
        },
        "type": {
          "type": "string",
          "const": "copyButton"
        }
      },
      "required": [
        "copyButtonValue",
        "copyButtonTooltipLabel",
        "type"
      ],
      "additionalProperties": false
    },
    "componentRow": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "row"
        },
        "rowMainContent": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/componentRowContent"
          },
          "minItems": 1
        },
        "rowAsideContent": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/componentRowContent"
          }
        }
      },
      "required": [
        "type",
        "rowMainContent",
        "rowAsideContent"
      ],
      "additionalProperties": false
    },
    "componentContainer": {
      "type": "object",
      "properties": {
        "type": {
          "type": "string",
          "const": "container"
        },
        "containerContent": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/componentContainerContent"
          },
          "minItems": 1
        }
      },
      "required": [
        "type",
        "containerContent"
      ],
      "additionalProperties": false
    },
    "componentContainerContent": {
      "anyOf": [
        {
          "$ref": "#/definitions/componentText"
        },
        {
          "$ref": "#/definitions/componentPlainText"
        },
        {
          "$ref": "#/definitions/componentSpacer"
        },
        {
          "$ref": "#/definitions/componentDivider"
        },
        {
          "$ref": "#/definitions/componentLinkButton"
        },
        {
          "$ref": "#/definitions/componentBadge"
        },
        {
          "$ref": "#/definitions/componentCopyButton"
        },
        {
          "$ref": "#/definitions/componentRow"
        }
      ]
    },
    "componentRowContent": {
      "anyOf": [
        {
          "$ref": "#/definitions/componentText"
        },
        {
          "$ref": "#/definitions/componentPlainText"
        },
        {
          "$ref": "#/definitions/componentSpacer"
        },
        {
          "$ref": "#/definitions/componentDivider"
        },
        {
          "$ref": "#/definitions/componentLinkButton"
        },
        {
          "$ref": "#/definitions/componentBadge"
        },
        {
          "$ref": "#/definitions/componentCopyButton"
        }
      ]
    },
    "component": {
      "anyOf": [
        {
          "$ref": "#/definitions/componentText"
        },
        {
          "$ref": "#/definitions/componentPlainText"
        },
        {
          "$ref": "#/definitions/componentSpacer"
        },
        {
          "$ref": "#/definitions/componentDivider"
        },
        {
          "$ref": "#/definitions/componentLinkButton"
        },
        {
          "$ref": "#/definitions/componentBadge"
        },
        {
          "$ref": "#/definitions/componentCopyButton"
        },
        {
          "$ref": "#/definitions/componentRow"
        },
        {
          "$ref": "#/definitions/componentContainer"
        }
      ]
    },
    "emailParticipant": {
      "type": "object",
      "properties": {
        "email": {
          "type": "string"
        },
        "name": {
          "type": [
            "string",
            "null"
          ]
        },
        "emailActor": {
          "anyOf": [
            {
              "$ref": "#/definitions/emailActor"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "email",
        "name",
        "emailActor"
      ],
      "additionalProperties": false
    },
    "label": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "labelType": {
          "$ref": "#/definitions/labelType"
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "id",
        "labelType",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "labelType": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "name": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500
        },
        "icon": {
          "type": [
            "string",
            "null"
          ],
          "default": null
        },
        "isArchived": {
          "type": "boolean",
          "default": false
        },
        "archivedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "archivedBy": {
          "anyOf": [
            {
              "$ref": "#/definitions/internalActor"
            },
            {
              "type": "null"
            }
          ]
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/internalActor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/internalActor"
        }
      },
      "required": [
        "id",
        "name",
        "archivedAt",
        "archivedBy",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "threadAssignee": {
      "anyOf": [
        {
          "$ref": "#/definitions/user"
        },
        {
          "$ref": "#/definitions/machineUser"
        },
        {
          "type": "object",
          "properties": {
            "id": {
              "type": "string"
            }
          },
          "required": [
            "id"
          ],
          "additionalProperties": false
        }
      ]
    },
    "threadStatus": {
      "type": "string",
      "enum": [
        "TODO",
        "DONE",
        "SNOOZED"
      ]
    },
    "threadMessageInfo": {
      "type": "object",
      "properties": {
        "timestamp": {
          "anyOf": [
            {
              "type": "string",
              "format": "date-time"
            },
            {
              "type": "string"
            },
            {}
          ]
        },
        "messageSource": {
          "type": "string",
          "enum": [
            "CHAT",
            "EMAIL",
            "API",
            "SLACK"
          ]
        }
      },
      "required": [
        "timestamp",
        "messageSource"
      ],
      "additionalProperties": false
    },
    "threadStatusDetail": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "CREATED"
            },
            "createdAt": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            }
          },
          "required": [
            "type",
            "createdAt"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "SNOOZED"
            },
            "snoozedAt": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            },
            "snoozedUntil": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            }
          },
          "required": [
            "type",
            "snoozedAt",
            "snoozedUntil"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "UNSNOOZED"
            },
            "snoozedAt": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            }
          },
          "required": [
            "type",
            "snoozedAt"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "NEW_REPLY"
            },
            "newReplyAt": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            }
          },
          "required": [
            "type",
            "newReplyAt"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "type": {
              "type": "string",
              "const": "LINK_LINEAR_UPDATED"
            },
            "updatedAt": {
              "$ref": "#/definitions/threadMessageInfo/properties/timestamp"
            },
            "linearIssueId": {
              "type": "string",
              "format": "uuid"
            }
          },
          "required": [
            "type",
            "updatedAt",
            "linearIssueId"
          ],
          "additionalProperties": false
        }
      ]
    },
    "thread": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "customer": {
          "type": "object",
          "properties": {
            "id": {
              "$ref": "#/definitions/id"
            },
            "email": {
              "$ref": "#/definitions/customer/properties/email"
            },
            "externalId": {
              "$ref": "#/definitions/customer/properties/externalId"
            },
            "fullName": {
              "$ref": "#/definitions/customer/properties/fullName"
            },
            "shortName": {
              "$ref": "#/definitions/customer/properties/shortName"
            },
            "markedAsSpamAt": {
              "$ref": "#/definitions/customer/properties/markedAsSpamAt"
            },
            "markedAsSpamBy": {
              "$ref": "#/definitions/customer/properties/markedAsSpamBy"
            },
            "customerGroupMemberships": {
              "$ref": "#/definitions/customer/properties/customerGroupMemberships"
            },
            "createdAt": {
              "$ref": "#/definitions/datetime"
            },
            "createdBy": {
              "$ref": "#/definitions/actor"
            },
            "updatedAt": {
              "$ref": "#/definitions/datetime"
            },
            "updatedBy": {
              "$ref": "#/definitions/actor"
            }
          },
          "required": [
            "id",
            "email",
            "externalId",
            "fullName",
            "shortName",
            "customerGroupMemberships",
            "createdAt",
            "createdBy",
            "updatedAt",
            "updatedBy"
          ],
          "additionalProperties": false
        },
        "title": {
          "type": "string",
          "minLength": 1,
          "maxLength": 500
        },
        "previewText": {
          "anyOf": [
            {
              "type": "string",
              "maxLength": 500
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "priority": {
          "type": "number"
        },
        "externalId": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            },
            {
              "type": "null"
            }
          ]
        },
        "status": {
          "$ref": "#/definitions/threadStatus"
        },
        "statusChangedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "statusChangedBy": {
          "anyOf": [
            {
              "$ref": "#/definitions/actor"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "statusDetail": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadStatusDetail"
            },
            {
              "type": "null"
            }
          ]
        },
        "assignee": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadAssignee"
            },
            {
              "type": "null"
            }
          ]
        },
        "assignedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "labels": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/label"
          }
        },
        "firstInboundMessageInfo": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadMessageInfo"
            },
            {
              "type": "null"
            }
          ]
        },
        "firstOutboundMessageInfo": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadMessageInfo"
            },
            {
              "type": "null"
            }
          ]
        },
        "lastInboundMessageInfo": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadMessageInfo"
            },
            {
              "type": "null"
            }
          ]
        },
        "lastOutboundMessageInfo": {
          "anyOf": [
            {
              "$ref": "#/definitions/threadMessageInfo"
            },
            {
              "type": "null"
            }
          ]
        },
        "supportEmailAddresses": {
          "type": "array",
          "items": {
            "type": "string"
          }
        },
        "createdAt": {
          "$ref": "#/definitions/datetime"
        },
        "createdBy": {
          "$ref": "#/definitions/actor"
        },
        "updatedAt": {
          "$ref": "#/definitions/datetime"
        },
        "updatedBy": {
          "$ref": "#/definitions/actor"
        }
      },
      "required": [
        "id",
        "customer",
        "title",
        "priority",
        "externalId",
        "status",
        "statusChangedAt",
        "statusDetail",
        "assignee",
        "assignedAt",
        "labels",
        "firstInboundMessageInfo",
        "firstOutboundMessageInfo",
        "lastInboundMessageInfo",
        "lastOutboundMessageInfo",
        "supportEmailAddresses",
        "createdAt",
        "createdBy",
        "updatedAt",
        "updatedBy"
      ],
      "additionalProperties": false
    },
    "noteEntry": {
      "type": "object",
      "properties": {
        "entryType": {
          "type": "string",
          "const": "note"
        },
        "noteId": {
          "$ref": "#/definitions/id"
        },
        "text": {
          "type": "string",
          "minLength": 1,
          "maxLength": 5000
        },
        "markdown": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 10000
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "entryType",
        "noteId",
        "text",
        "markdown"
      ],
      "additionalProperties": false
    },
    "chatEntry": {
      "type": "object",
      "properties": {
        "entryType": {
          "type": "string",
          "const": "chat"
        },
        "chatId": {
          "$ref": "#/definitions/id"
        },
        "text": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 5000
            },
            {
              "type": "null"
            }
          ]
        },
        "attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/chatEntryAttachment"
          }
        },
        "customerReadAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "entryType",
        "chatId",
        "text",
        "attachments",
        "customerReadAt"
      ],
      "additionalProperties": false
    },
    "emailEntry": {
      "type": "object",
      "properties": {
        "entryType": {
          "type": "string",
          "const": "email"
        },
        "emailId": {
          "$ref": "#/definitions/id"
        },
        "to": {
          "$ref": "#/definitions/emailParticipant"
        },
        "from": {
          "$ref": "#/definitions/emailParticipant"
        },
        "additionalRecipients": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/emailParticipant"
          }
        },
        "hiddenRecipients": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/emailParticipant"
          }
        },
        "subject": {
          "type": [
            "string",
            "null"
          ]
        },
        "textContent": {
          "type": [
            "string",
            "null"
          ]
        },
        "hasMoreTextContent": {
          "type": "boolean"
        },
        "markdownContent": {
          "type": [
            "string",
            "null"
          ]
        },
        "hasMoreMarkdownContent": {
          "type": "boolean"
        },
        "authenticity": {
          "type": "string",
          "enum": [
            "PASS",
            "FAIL",
            "UNKNOWN"
          ]
        },
        "sentAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "receivedAt": {
          "anyOf": [
            {
              "$ref": "#/definitions/datetime"
            },
            {
              "type": "null"
            }
          ]
        },
        "attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/emailEntryAttachment"
          }
        },
        "inReplyToEmailId": {
          "type": [
            "string",
            "null"
          ]
        },
        "isStartOfThread": {
          "type": "boolean"
        }
      },
      "required": [
        "entryType",
        "emailId",
        "to",
        "from",
        "additionalRecipients",
        "hiddenRecipients",
        "subject",
        "textContent",
        "hasMoreTextContent",
        "markdownContent",
        "hasMoreMarkdownContent",
        "authenticity",
        "sentAt",
        "receivedAt",
        "attachments",
        "inReplyToEmailId",
        "isStartOfThread"
      ],
      "additionalProperties": false
    },
    "customEntry": {
      "type": "object",
      "properties": {
        "entryType": {
          "type": "string",
          "const": "custom"
        },
        "externalId": {
          "anyOf": [
            {
              "type": "string",
              "minLength": 1,
              "maxLength": 500
            },
            {
              "type": "null"
            }
          ]
        },
        "title": {
          "type": "string",
          "maxLength": 500
        },
        "type": {
          "type": [
            "string",
            "null"
          ]
        },
        "components": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/component"
          },
          "minItems": 1
        },
        "attachments": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/customEntryAttachment"
          }
        }
      },
      "required": [
        "entryType",
        "externalId",
        "title",
        "type",
        "components",
        "attachments"
      ],
      "additionalProperties": false
    },
    "timelineEntry": {
      "type": "object",
      "properties": {
        "id": {
          "$ref": "#/definitions/id"
        },
        "customerId": {
          "$ref": "#/definitions/id"
        },
        "threadId": {
          "anyOf": [
            {
              "$ref": "#/definitions/id"
            },
            {
              "type": "null"
            }
          ],
          "default": null
        },
        "timestamp": {
          "$ref": "#/definitions/datetime"
        },
        "actor": {
          "$ref": "#/definitions/actor"
        },
        "entry": {
          "anyOf": [
            {
              "$ref": "#/definitions/noteEntry"
            },
            {
              "$ref": "#/definitions/chatEntry"
            },
            {
              "$ref": "#/definitions/emailEntry"
            },
            {
              "$ref": "#/definitions/customEntry"
            }
          ]
        }
      },
      "required": [
        "id",
        "customerId",
        "timestamp",
        "actor",
        "entry"
      ],
      "additionalProperties": false
    },
    "customerChangedPayload": {
      "type": "object",
      "properties": {
        "changeType": {
          "type": "string",
          "enum": [
            "ADDED",
            "UPDATED"
          ]
        },
        "eventType": {
          "type": "string",
          "const": "customer.customer_changed"
        },
        "customer": {
          "$ref": "#/definitions/customer"
        },
        "previousCustomer": {
          "anyOf": [
            {
              "$ref": "#/definitions/customer"
            },
            {
              "type": "null"
            }
          ]
        }
      },
      "required": [
        "changeType",
        "eventType",
        "customer",
        "previousCustomer"
      ],
      "additionalProperties": false,
      "description": "A customer has been created or updated"
    },
    "timelineEntryChangedPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "timeline.timeline_entry_changed"
        },
        "previousTimelineEntry": {
          "anyOf": [
            {
              "$ref": "#/definitions/timelineEntry"
            },
            {
              "type": "null"
            }
          ],
          "description": "null if changeType=ADDED"
        },
        "timelineEntry": {
          "anyOf": [
            {
              "$ref": "#/definitions/timelineEntry"
            },
            {
              "type": "null"
            }
          ],
          "description": "null if changeType=REMOVED"
        },
        "changeType": {
          "type": "string",
          "enum": [
            "ADDED",
            "UPDATED",
            "REMOVED"
          ]
        }
      },
      "required": [
        "eventType",
        "previousTimelineEntry",
        "timelineEntry",
        "changeType"
      ],
      "additionalProperties": false,
      "description": "A timeline entry has been added, updated or removed"
    },
    "customerGroupMembershipsChangedPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "customer.customer_group_memberships_changed"
        },
        "changeType": {
          "type": "string",
          "enum": [
            "ADDED",
            "REMOVED"
          ]
        },
        "customer": {
          "$ref": "#/definitions/thread/properties/customer"
        },
        "previousCustomer": {
          "$ref": "#/definitions/thread/properties/customer"
        }
      },
      "required": [
        "eventType",
        "changeType",
        "customer",
        "previousCustomer"
      ],
      "additionalProperties": false
    },
    "customerGroupChangedPayload": {
      "anyOf": [
        {
          "type": "object",
          "properties": {
            "changeType": {
              "type": "string",
              "const": "ADDED"
            },
            "eventType": {
              "type": "string",
              "const": "customer.customer_group_changed"
            },
            "customerGroup": {
              "$ref": "#/definitions/customerGroup"
            }
          },
          "required": [
            "changeType",
            "eventType",
            "customerGroup"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "changeType": {
              "type": "string",
              "const": "UPDATED"
            },
            "eventType": {
              "type": "string",
              "const": "customer.customer_group_changed"
            },
            "customerGroup": {
              "$ref": "#/definitions/customerGroup"
            },
            "previousCustomerGroup": {
              "$ref": "#/definitions/customerGroup"
            }
          },
          "required": [
            "changeType",
            "eventType",
            "customerGroup",
            "previousCustomerGroup"
          ],
          "additionalProperties": false
        },
        {
          "type": "object",
          "properties": {
            "changeType": {
              "type": "string",
              "const": "REMOVED"
            },
            "eventType": {
              "type": "string",
              "const": "customer.customer_group_changed"
            },
            "previousCustomerGroup": {
              "$ref": "#/definitions/customerGroup"
            }
          },
          "required": [
            "changeType",
            "eventType",
            "previousCustomerGroup"
          ],
          "additionalProperties": false
        }
      ]
    },
    "threadCreatedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.thread_created"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "thread"
      ],
      "additionalProperties": false
    },
    "threadStatusTransitionedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.thread_status_transitioned"
        },
        "previousThread": {
          "$ref": "#/definitions/thread"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "previousThread",
        "thread"
      ],
      "additionalProperties": false
    },
    "threadAssignmentTransitionedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.thread_assignment_transitioned"
        },
        "previousThread": {
          "$ref": "#/definitions/thread"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "previousThread",
        "thread"
      ],
      "additionalProperties": false
    },
    "threadEmailReceivedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.email_received"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        },
        "email": {
          "$ref": "#/definitions/email"
        }
      },
      "required": [
        "eventType",
        "thread",
        "email"
      ],
      "additionalProperties": false
    },
    "threadEmailSentPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.email_sent"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        },
        "email": {
          "$ref": "#/definitions/email"
        }
      },
      "required": [
        "eventType",
        "thread",
        "email"
      ],
      "additionalProperties": false
    },
    "threadLabelsChangedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.thread_labels_changed"
        },
        "changeType": {
          "type": "string",
          "enum": [
            "ADDED",
            "REMOVED"
          ]
        },
        "thread": {
          "$ref": "#/definitions/thread"
        },
        "previousThread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "changeType",
        "thread",
        "previousThread"
      ],
      "additionalProperties": false
    },
    "threadPriorityChangedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.thread_priority_changed"
        },
        "previousThread": {
          "$ref": "#/definitions/thread"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "previousThread",
        "thread"
      ],
      "additionalProperties": false
    },
    "threadChatSentPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.chat_sent"
        },
        "chat": {
          "$ref": "#/definitions/chat"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        }
      },
      "required": [
        "eventType",
        "chat",
        "thread"
      ],
      "additionalProperties": false
    },
    "threadNoteCreatedEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "thread.note_created"
        },
        "thread": {
          "$ref": "#/definitions/thread"
        },
        "note": {
          "type": "object",
          "properties": {
            "timelineEntryId": {
              "$ref": "#/definitions/id"
            },
            "id": {
              "$ref": "#/definitions/id"
            },
            "text": {
              "type": "string",
              "minLength": 1,
              "maxLength": 5000
            },
            "markdown": {
              "anyOf": [
                {
                  "type": "string",
                  "minLength": 1,
                  "maxLength": 10000
                },
                {
                  "type": "null"
                }
              ]
            },
            "createdAt": {
              "$ref": "#/definitions/datetime"
            },
            "createdBy": {
              "$ref": "#/definitions/internalActor"
            },
            "updatedAt": {
              "$ref": "#/definitions/datetime"
            },
            "updatedBy": {
              "$ref": "#/definitions/internalActor"
            },
            "deletedAt": {
              "$ref": "#/definitions/user/properties/deletedAt"
            },
            "deletedBy": {
              "$ref": "#/definitions/user/properties/deletedBy"
            }
          },
          "required": [
            "timelineEntryId",
            "id",
            "text",
            "markdown",
            "createdAt",
            "createdBy",
            "updatedAt",
            "updatedBy",
            "deletedAt",
            "deletedBy"
          ],
          "additionalProperties": false
        }
      },
      "required": [
        "eventType",
        "thread",
        "note"
      ],
      "additionalProperties": false
    },
    "customerCreatedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "customer.customer_created"
        },
        "customer": {
          "$ref": "#/definitions/thread/properties/customer"
        }
      },
      "required": [
        "eventType",
        "customer"
      ],
      "additionalProperties": false,
      "description": "A customer has been created"
    },
    "customerUpdatedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "customer.customer_updated"
        },
        "customer": {
          "$ref": "#/definitions/thread/properties/customer"
        },
        "previousCustomer": {
          "$ref": "#/definitions/thread/properties/customer"
        }
      },
      "required": [
        "eventType",
        "customer",
        "previousCustomer"
      ],
      "additionalProperties": false,
      "description": "A customer has been updated"
    },
    "customerDeletedPublicEventPayload": {
      "type": "object",
      "properties": {
        "eventType": {
          "type": "string",
          "const": "customer.customer_deleted"
        },
        "previousCustomer": {
          "$ref": "#/definitions/thread/properties/customer"
        }
      },
      "required": [
        "eventType",
        "previousCustomer"
      ],
      "additionalProperties": false,
      "description": "A customer has been deleted"
    }
  },
  "$schema": "http://json-schema.org/draft-07/schema#"
}